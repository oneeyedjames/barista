jQuery(function(a){a.fn.extend({collapse:function(){var c,b;c=a(this);if(c.hasClass("collapsed")){return c.css("overflow","hidden")}else{b=c.innerHeight();c.css("max-height",b+"px");return c.toggleClass("collapsed")}}});a(".collapsible").click(function(){return a(this).collapse()});a.fn.extend({refreshTabs:function(){return a(this).children("li").each(function(){var b;b=a(this);return b.children("a").each(function(){return a(this.hash).toggle(b.hasClass("active"))})})}});a(".menu").each(function(){var c,b,d;d=a(this);c=d.children("li.active");b=d.children("li").children("a[href='"+location.hash+"']");if(c.length){c.removeClass("active");c.first().addClass("active")}else{if(b.length&&d.hasClass("tabs")){b.first().parent().addClass("active")}else{d.children("li:first").addClass("active")}}if(d.hasClass("tabs")){d.children("li").each(function(){var e;e=a(this);return e.children("a").click(function(f){e.siblings("li").removeClass("active");e.addClass("active");d.refreshTabs();return f.preventDefault()})});return d.refreshTabs()}});a.fn.extend({center:function(){var c,d,e,b;b=a(window);c=a(this);e=(b.height()-c.outerHeight())/2;d=(b.width()-c.outerWidth())/2;return c.css({top:e+"px",left:d+"px"})},modal:function(f){var b,d,e,c;d=a(this);b=a("body");e=d.dismiss.bind(d);e();c=a(".overlay");if(!c.length){c=a("<div>").addClass("overlay").appendTo("body")}if(f.dim){b.addClass("no-scroll")}d.addClass("visible");d.toggleClass("dim",f.dim);d.toggleClass("alert",f.alert);c.toggleClass("dim",f.dim).addClass("visible").unbind("click").click(e);a(window).resize(function(){return d.center()});if(f.timeout){setTimeout(e,f.timeout)}return d.center()},dismiss:function(b){b||(b="dismiss");a("body").removeClass("no-scroll");a(".overlay").removeClass("visible");return a(this).removeClass("visible").trigger(b)}});a('*[data-action="modal"]').click(function(c){var b,d,e;c.preventDefault();b=a(this);e=b.data("target");d=b.data();if(d.timeout==null){d.timeout=0}if(d.alert==null){d.alert=false}if(d.dim==null){d.dim=false}return a(e).modal(d)});a(".modal .close").click(function(b){b.preventDefault();return a(this).parents(".modal").dismiss()});a(".modal .btn.cancel").click(function(b){b.preventDefault();return a(this).parents(".modal").dismiss("cancel")});a(".modal .btn.ok").click(function(b){b.preventDefault();return a(this).parents(".modal").dismiss("ok")});a.fn.extend({tooltip:function(b){var c;c=a(this);if(b==null){b={}}if(b.title==null){b.title=c.attr("title")}if(b.side==null){b.side=c.data("side")||"top"}return c.removeAttr("title").data("title",b.title).hover(function(){var d,e,h,g,f,i;e=a("<div>").addClass("message").text(b.title);g=a("<div>").addClass("pointer");f=a("<div>").addClass("tooltip").addClass(b.side).insertAfter(c).append(g).append(e);c.data("tooltip",f);h=c.offset();switch(b.side){case"top":h.top-=f.outerHeight()+3;break;case"left":h.left-=f.outerWidth()+3;break;case"right":h.left+=c.outerWidth()+3;break;case"bottom":h.top+=c.outerHeight()+3}d=(f.outerWidth()-c.outerWidth())/2;i=(f.outerHeight()-c.outerHeight())/2;switch(b.side){case"left":case"right":h.top-=i;break;case"top":case"bottom":h.left-=d}return f.offset(h)},function(){var d;return d=a(this).data("tooltip").remove()})}});a('*[data-hover="tooltip"]').each(function(){return a(this).tooltip()})});